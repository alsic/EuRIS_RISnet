{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "network_section_v3_0.json",
  "title": "RISNET network_section schema",
  "type": "object",
  "required": [
    "type",
    "features"
  ],
  "properties": {
    "type": {
      "type": "string",
      "enum": [
        "FeatureCollection"
      ]
    },
    "features": {
      "type": "array",
      "items": {
        "title": "GeoJSON Feature",
        "type": "object",
        "required": [
          "type",
          "properties",
          "geometry"
        ],
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "Feature"
            ]
          },
          "properties": {
            "type": "object",
            "allOf": [{"$ref": "base/baseobject_v3_0.json"}],
            "properties": {
              "fairway_ref": {
                "description": "RIS_ID of the fairway the network section is associated with",
                "type": "string",
                "format": "uuid"
              },
              "up_node_ref": {
                "description": "RIS_ID of the upstream node, by which the network section formed and connected to others. ",
                "type": "string",
                "format": "uuid"
              },
              "up_fairway_km": {
                "description": "Fairway km of the upstream node, by which the network section formed and connected to others. ",
                "type": "number",
                "multipleOf": 0.1
              },
              "down_node_ref": {
                "description": "RIS_ID of the downstream node, by which the network section formed and connected to others. ",
                "type": "string",
                "format": "uuid"
              },
              "down_fairway_km": {
                "description": "Fairway km of the downstream node, by which the network section formed and connected to others. ",
                "type": "number",
                "multipleOf": 0.1
              },
              "fairway_section_code": {
                "description": "The Fairway Section Code has to be assigned by the national authorities. It represents the coding of a waterway section within a national network and is only unique in combination with the country code.",
                "oneOf": [{ "type": "string", "minLength": 5, "maxLength": 5}, { "type": "null" }]
              },
              "cemt": {
                "description": "CEMT class of the section",
                "oneOf": [{ "type": "string", "maxLength": 5}, { "type": "null" }]
              },
              "max_length_cm": {
                "description": "Maximum allowed length of the vessel in cm as given in legal regulations. This shall be a fall-back default value for all ship categories, if no Sailing Dimensions table is provided. ",
                "type": "integer"
              },
              "max_width_cm": {
                "description": "Maximum allowed width of the vessel in cm as given in legal regulations. This shall be a fall-back default value for all ship categories, if no Sailing Dimensions table is provided. ",
                "type": "integer"
              },
              "max_draught_cm": {
                "description": "Maximum allowed draught of the vessel in cm as given in legal regulations. This shall be a fall-back default value for all ship categories, if no Sailing Dimensions table is provided. ",
                "type": "integer"
              },
              "max_air_draught_cm": {
                "description": "Maximum allowed air draught of the vessel in cm as given in legal regulations. A maximum air draught may also apply if the network section runs through a tunnel. This shall be a fall-back default value for all ship categories, if no Sailing Dimensions table is provided",
                "type": ["integer", "null" ]
              },
              "avg_speed_up_kmh": {
                "description": "Average speed of the upstream travelling vessel used for voyage calculation. In case of unidirectional traffic set value to zero. If no Sailing Speed table is provided or if a ship does not fit into any of the defined categories, the voyage computation defaults to AVG_SPEED_UP for upstream traffic.",
                "oneOf": [{ "type": "number", "multipleOf": 0.1}, { "type": "null" }]
              },
              "avg_speed_down_kmh": {
                "description": "Average speed of the downstream travelling vessel used for voyage calculation. In case of unidirectional traffic set value to zero. If no Sailing Speed table is provided or if a ship does not fit into any of the defined categories, the voyage computation defaults to AVG_SPEED_DOWN for downstream traffic.",
                "oneOf": [{ "type": "number", "multipleOf": 0.1}, { "type": "null" }]
              },
              "turn_restriction": {
                "description": "The attribute indicates if ships are allowed to turn around and change direction in the waterway. If they are not allowed they have to use a turning basin for the maneuver. true = Ships are not allowed to turn around in the network section",
                "oneOf": [{"type": "boolean"}, {"type": "integer","minimum": 0, "maximum": 1}]
              },
              "tide_dep": {
                "description": "The attribute indicates if the network section is influenced by tidal water-level shifts. true = tide-dependent network section",
                "oneOf": [{"type": "boolean"}, {"type": "integer","minimum": 0, "maximum": 1}]
              },
              "estuary": {
                "description": "Used on the coast of Belgium and Netherland. Some inland vessels can sail along the coast. true = Only inland vessels permitted for estuary voyages can use this Network Section",
                "oneOf": [{"type": "boolean"}, {"type": "integer","minimum": 0, "maximum": 1}]
              },
              "ww_charges": {
                "description": "Indicates, if the skipper has to pay a fee when sailing on this network section. true = Waterway charges are due on this network section",
                "oneOf": [{"type": "boolean"}, {"type": "integer","minimum": 0, "maximum": 1}]
              },
              "comex_section_ref": {
                "description": "In RIS COMEX RNM 2.3.1 this attribute is called CODE and is the main identifier of the fairway section. It will be included for backwards compatibility. It is a combined code consisting of CNTRYCODE +  FW_CODE + SEQ_NR (optional)",
                "type": "string",
                "minLength": 12,
                "maxLength": 12
              },
              "tentec": {
                "description": "Indicates whether the corresponding network section is part of the TENtec network or not, and if this is the country 'providing' the info. true = Network Section is part of the TENtec Network. false = Network Section is not part of the TENtec Network",
                "oneOf": [{"type": "boolean"}, {"type": "integer","minimum": 0, "maximum": 1}]
              }
            },
          "required": ["fairway_ref", "up_node_ref", "up_fairway_km", "down_node_ref", "down_fairway_km", "cemt", "max_length_cm", "max_width_cm", "max_draught_cm", "comex_section_ref"],
          "unevaluatedProperties": false
        },
        "geometry": {"$ref": "base/GeoJSONLineString_v3_0.json"}
        }
      }
    }
  }
}