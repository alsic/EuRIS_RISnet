{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$id": "lock_v3_0.json",
    "title": "RISNET lock schema",
    "type": "object",
    "required": [
      "type",
      "features"
    ],
    "properties": {
      "type": {
        "type": "string",
        "enum": [
          "FeatureCollection"
        ]
      },
      "features": {
        "type": "array",
        "items": {
          "title": "GeoJSON Feature",
          "type": "object",
          "required": [
            "type",
            "properties",
            "geometry"
          ],
          "properties": {
            "type": {
              "type": "string",
              "enum": [
                "Feature"
              ]
            },
            "properties": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "base/baseobject_v3_0.json"
                }
              ],
              "properties": {
                "network_section_ref": {
                    "description": "RIS_ID of the network section the object lies on.",
                    "type": "string",
                    "format": "uuid"
                  },
                  "un_locode": {
                    "description": "5-Digit UN Location Code in which the object lies. The first two digits specify the country.",
                    "oneOf": [{ "type": "string", "maxLength": 5}, {"type": "null" }]
                  },
                  "un_loname": {
                    "description": "Location name according to the UN: name of city or municipality in national language (see instructions at https://service.unece.org/trade/locode/Service/LocodeColumn.htm#Name).",
                    "oneOf": [{ "type": "string", "maxLength": 80}, {"type": "null" }]
                  },
                  "fairway_km": {
                    "description": "Fairway km indication: The value shall be given in km with a maximum of 1 decimal digit. The value shall not serve as the basis for distance calculations (this shall be done via the coordinates of the geo-object). Rather the distance mark should serve as a landmark assisting orientation. It is up to the encoding authority to decide if a physical or virtual distance mark is used.",
                    "type": "number",
                    "multipleOf": 0.1
                  },
                  "max_rise_cm": {
                    "description": "Maximum difference of water level in cm between upstream and downstream side of the lock.",
                    "oneOf": [{ "type": "integer"}, { "type": "null" }]
                  },
                  "operation_type": {
                    "description": "This attribute indicates how the lock is operated. Allowed values: 0 (Local Operation), 1 (Remote Operation), 2 (Self-Service), 3 (Automatic), 4 (not applicable), null (unknown)",
                    "oneOf": [
                        { "type": "integer", "enum": [0, 1, 2, 3, 4] },
                        { "type": "null" }
                      ]
                  },
                  "orient": {
                    "description": "Orientation of the bridge in degrees (0 =north) for map presentation.",
                    "type": "integer",
                    "minimum": 0,
                    "maximum": 359
                  },
                  "strategic_point_type": {
                    "description": "Type of priority applying for the strategic point. Allowed values: 0 (not applicable), 1 (Voyage description + ETA), 2 (ETA calculation), 3 (ERI related + ETA)",
                    "type": "integer",
                    "enum": [0, 1, 2, 3]
                  },
                  "berth_refs": {
                    "description": "Comma separated list of RIS_IDs of the Berth object(s) that are linked to this lock (max 20 refs).",
                    "oneOf": [
                      {"type": "string", "maxLength": 739},
                      {"type": "null"}
                    ]
                  }
                },
              "required": ["network_section_ref", "fairway_km"],
              "unevaluatedProperties": false
            },
            "geometry": {"$ref": "base/GeoJSONPoint_v3_0.json"}
          }
        }
      }
    }
  }
  