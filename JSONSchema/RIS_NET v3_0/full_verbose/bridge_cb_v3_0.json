{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$id": "bridge_cb_v3_0.json",
    "title": "RISNET bridge_cb schema",
    "type": "object",
    "required": [
      "type",
      "features"
    ],
    "properties": {
      "type": {
        "type": "string",
        "enum": [
            "FeatureCollection"
        ]
      },
      "features": {
        "type": "array",
        "items": {
          "title": "GeoJSON Feature",
          "type": "object",
          "required": [
            "type",
            "properties",
            "geometry"
          ],
          "properties": {
            "type": {
              "type": "string",
              "enum": [
                "Feature"
            ]
            },
            "properties": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "base/baseobject_v3_0.json"
                }
              ],
              "properties": {
                "bridge_ref": {
                  "description": "RIS_ID of the same bridge in the RIS.net of the other country, which shares the common border and is responsible for providing the geometric data. The reference is necessary, because some attributes (e.g. OBJ_NAME) might deviate from each other.",
                  "type": "string",
                  "format": "uuid"
                },
                "network_section_ref": {
                  "description": "RIS_ID of the network section the object lies on.",
                  "type": "string",
                  "format": "uuid"
                },
                "gauge_ref": {
                  "description": "RIS_ID of the reference gauge station, providing water level information for the calculation of actual clearance height of a bridge opening.",
                  "oneOf": [{"type": "string", "format": "uuid"}, {"type": "null"}]
                },
                "un_locode": {
                  "description": "5-Digit UN Location Code in which the object lies. The first two digits specify the country.",
                  "oneOf": [{"type": "string", "maxLength": 5}, {"type": "null"}]
                },
                "un_loname": {
                  "description": "Location name according to the UN: name of city or municipality in national language (see instructions at https://service.unece.org/trade/locode/Service/LocodeColumn.htm#Name).",
                  "oneOf": [{"type": "string", "maxLength": 80}, {"type": "null"}]
                },
                "fairway_km": {
                  "description": "Fairway km indication: The value shall be given in km with a maximum of 1 decimal digit. The value shall not serve as the basis for distance calculations (this shall be done via the coordinates of the geo-object). Rather the distance mark should serve as a landmark assisting orientation. It is up to the encoding authority to decide if a physical or virtual distance mark is used.",
                  "type": "number",
                  "multipleOf": 0.1
                },
                "height_ref_level_name": {
                  "description": "Code of the Reference Height, from which the clearance height of the bridge is measured. The reference height is based on the zero point of the gauge (ZPG) specified in the Gauge object.",
                  "oneOf": [{"type": "string", "maxLength": 10}, {"type": "null"}]
                },
                "vertical_clearance_val_cm": {
                  "description": "Waterlevel reference height based on the reference code (see HEIGHT_REF) (CM) (IENC: VCRVAL).",
                  "oneOf": [{"type": "integer"}, {"type": "null"}]
                },
                "vertical_clearance_datum": {
                  "description": "Type of the Waterlevel reference height (CM) (IENC: VERDAT).",
                  "oneOf": [{"type": "string", "maxLength": 10}, {"type": "null"}]
                },
                "safety_margin_cm": {
                  "description": "Safety margin in cm to be subtracted for calculation of actual clearance height.",
                  "oneOf": [{"type": "integer"}, {"type": "null"}]
                }
              },
              "required": ["bridge_ref", "network_section_ref", "fairway_km"],
              "unevaluatedProperties": false
            },
            "geometry": {
              "$ref": "base/GeoJSONPoint_v3_0.json"
            }
          }
        }
      }
    }
  }
  