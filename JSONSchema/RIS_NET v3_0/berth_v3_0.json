{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "berth_v3_0.json",
  "title": "RISNET berth schema",
  "type": "object",
  "required": [
    "type",
    "features"
  ],
  "properties": {
    "type": {
      "type": "string",
      "enum": [
        "FeatureCollection"
      ]
    },
    "features": {
      "type": "array",
      "items": {
        "title": "GeoJSON Feature",
        "type": "object",
        "required": [
          "type",
          "properties",
          "geometry"
        ],
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "Feature"
            ]
          },
          "properties": {
            "type": "object",
            "allOf": [
              {
                "$ref": "base/baseobject_v3_0.json"
              }
            ],
            "properties": {
              "network_section_ref": {
                "$ref": "base/common_properties_v3_0.json#/properties/network_section_ref"
              },
              "harbour_ref": {
                "$ref": "base/common_properties_v3_0.json#/properties/harbour_ref"
              },
              "harbour_basin_ref": {
                "$ref": "base/common_properties_v3_0.json#/properties/harbour_basin_ref"
              },
              "terminal_refs": {
                "description": "IDs of the terminal object(s) the Berth is linked to. (max 20 refs)",
                "oneOf": [
                  {
                    "type": "string",
                    "maxLength": 739
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "lock_ref": {
                "$ref": "base/common_properties_v3_0.json#/properties/lock_ref"
              },
              "bridge_ref": {
                "$ref": "base/common_properties_v3_0.json#/properties/bridge_ref"
              },
              "un_locode": {
                "$ref": "base/common_properties_v3_0.json#/properties/un_locode"
              },
              "un_loname": {
                "$ref": "base/common_properties_v3_0.json#/properties/un_loname"
              },
              "object_reference_code": {
                "$ref": "base/common_properties_v3_0.json#/properties/object_reference_code"
              },
              "fairway_km": {
                "$ref": "base/common_properties_v3_0.json#/properties/fairway_km"
              },
              "up_fairway_km": {
                "$ref": "base/common_properties_v3_0.json#/properties/up_fairway_km"
              },
              "down_fairway_km": {
                "$ref": "base/common_properties_v3_0.json#/properties/down_fairway_km"
              },
              "max_length_cm": {
                "$ref": "base/common_properties_v3_0.json#/properties/max_length_cm"
              },
              "max_width_cm": {
                "$ref": "base/common_properties_v3_0.json#/properties/max_width_cm"
              },
              "max_draught_cm": {
                "$ref": "base/common_properties_v3_0.json#/properties/max_draught_cm"
              },
              "max_height_cm": {
                "$ref": "base/common_properties_v3_0.json#/properties/max_height_cm"
              },
              "cl_width_cm": {
                "$ref": "base/common_properties_v3_0.json#/properties/cl_width_cm"
              },
              "cl_length_cm": {
                "$ref": "base/common_properties_v3_0.json#/properties/cl_length_cm"
              },
              "berth_rows": {
                "description": "Number of vessels that can be moored next to each other.",
                "oneOf": [
                  {
                    "type": "integer"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "private_status": {
                "description": "Public/private status of the berth. Allowed Values: 1 (public), 2 (private), 3 (unknown)",
                "type": "integer",
                "enum": [
                  1,
                  2,
                  3
                ],
                "default": 3
              },
              "ship_category": {
                "$ref": "base/common_properties_v3_0.json#/properties/ship_category"
              },
              "max_moor_time_h": {
                "description": "Maximum allowed mooring time in hours.",
                "oneOf": [
                  {
                    "type": "integer"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "berth_type": {
                "description": "Type of berth (for backward compatibility). Allowed values: achbrt (Anchorage Berth), berths_3 (Berth without transhipment), berths_1 (transhipment berth), berths_9 (Ferry / passenger berth)",
                "type": "string",
                "maxLength": 20
              },
              "catbrt": {
                "description": "Category of berth. Allowed values: 1 (Loading), 2 (Unloading), 3 (Overnight accommodation), 5 (Ferry berth), 9 (Berth for passenger vessels), 20 (Designated Waiting Area).",
                "oneOf": [
                  {
                    "type": "string",
                    "maxLength": 30
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "clsdng": {
                "$ref": "base/common_properties_v3_0.json#/properties/clsdng"
              },
              "trshgd": {
                "description": "Transhipping goods. Allowed Values: 1 (containers), 2 (bulk goods), 3 (oil), 4 (fuel), 5 (chemicals), 6 (liquid goods), 7 (explosive goods), 8 (fish), 9 (cars), 10 (general cargo), 15 (heavy load), 16 (oversize load)",
                "oneOf": [
                  {
                    "type": "string",
                    "maxLength": 30
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "bollcnt": {
                "description": "Number of mooring facilities (bollards).",
                "oneOf": [
                  {
                    "type": "integer"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "load_type": {
                "description": "Type of load installations, which are present at the berth. Allowed values: 1 (Fixed crane), 2 (Containerlift), 3 (Suction installation), 4 (Lift truck), 5 (Traveling crane)",
                "oneOf": [
                  {
                    "type": "string",
                    "maxLength": 30
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "supplies": {
                "$ref": "base/common_properties_v3_0.json#/properties/supplies"
              },
              "position": {
                "$ref": "base/common_properties_v3_0.json#/properties/position"
              }
            },
            "required": [
              "network_section_ref",
              "un_locode",
              "un_loname",
              "object_reference_code",
              "fairway_km",
              "berth_type"
            ],
            "unevaluatedProperties": false
          },
          "geometry": {
            "$ref": "base/GeoJSONPoint_v3_0.json"
          }
        }
      }
    }
  }
}
